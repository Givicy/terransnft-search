{"version":3,"sources":["components/Terrans.js","helpers/terrans-helper.js","components/TerransNft.js","App.js","utils/analytics.js","reportWebVitals.js","index.js"],"names":["Terrans","metadata","message","owner","actualTraits","_","map","trait","toLowerCase","replace","hasOwnProperty","traitCount","countBy","true","className","src","media","alt","Typography","variant","gutterBottom","component","title","onClick","lastIndexOfSlash","lastIndexOf","lengthOfUrl","length","filename","substr","axios","url","method","responseType","then","response","window","URL","createObjectURL","Blob","data","link","document","createElement","href","setAttribute","body","appendChild","click","rank","previousRank","exists","property","tokenId","terranRarity","require","terranRarityV1","digitOnlyPattern","terranOptions","getTerranIdByTitle","version","assumedTerranId","parseInt","isUndefined","padZeros","toString","getPlaceholder","searchBy","placeholder","getTerranRankByTitle","terranId","rarity","find","getTerranRaritySource","r","TerranName","Rank","getTokenIdByTitle","getTokenIdByTerranId","isValidTitle","searchText","hasTerranHash","indexOf","isDigitOnly","test","intTerranId","number","digits","i","TerransNft","analytics","useAnalytics","location","useLocation","navigate","useNavigate","queryId","useParams","useState","setMessage","getInitialSearchByValue","setSearchBy","searchPlaceholder","setSearchPlaceholder","setSearchText","terranMetadata","setTerranMetadata","onTerranSearchSubmit","event","preventDefault","getTerran","text","id","trim","track","isValidSearchText","linkParameter","getTokenIdByRank","getMetadataBySearchText","console","log","get","res","result","extend","catch","err","error","useEffect","page","onSubmit","TextField","fullWidth","label","value","onChange","target","RadioGroup","row","name","FormControlLabel","control","Radio","type","App","darkTheme","createTheme","palette","mode","ThemeProvider","theme","path","element","Analytics","app","plugins","payload","googleAnalytics","trackingId","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","instance","getElementById"],"mappings":"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","file":"static/js/main.03bd01bc.chunk.js","sourcesContent":["import _ from 'underscore';\nimport { MdSave } from 'react-icons/md';\nimport axios from 'axios';\nimport Typography from '@mui/material/Typography';\nimport '../styles/terrans.scss';\n\nconst Terrans = ({metadata, owner, message}) => {\n    const handleDownload = () => {\n        const lastIndexOfSlash = metadata.media.lastIndexOf('/') + 1;\n        const lengthOfUrl = metadata.media.length;\n        const filename = metadata.media.substr(lastIndexOfSlash, lengthOfUrl);\n        axios({\n            url: metadata.media,\n            method: 'GET',\n            responseType: 'blob',\n          }).then((response) => {\n            const url = window.URL.createObjectURL(new Blob([response.data]));\n            const link = document.createElement('a');\n            link.href = url;\n            link.setAttribute('download', filename);\n            document.body.appendChild(link);\n            link.click();\n          })\n    }\n\n    const actualTraits = _.map(['Armor', 'Background', 'Beard', 'Body', 'Class', 'Facial Features', 'Hair', 'Helmet', 'Logo', 'Pet', 'Sex','Smoke', 'Suit'], (trait) => {\n        return {\n            'title': trait,\n            'property': trait.toLowerCase().replace(/ /g, ''),\n            'exists': metadata.hasOwnProperty(trait.toLowerCase().replace(/ /g, ''))\n        }\n    });\n\n    const traitCount = _.countBy(actualTraits, 'exists').true;\n\n    return metadata ? \n    <div className='terran'>\n        <img src={metadata.media} className='terran-img' alt='' />\n        <Typography variant=\"h4\" gutterBottom component=\"div\">\n            {metadata.title}<span className='terran-download'><MdSave onClick={handleDownload}/></span>\n        </Typography>\n        {\n            metadata.rank ?\n            <Typography variant=\"h5\" gutterBottom component=\"div\">\n                <span>Rank: {metadata.rank}</span>\n            </Typography>\n            : ''\n        }\n        {\n            metadata.previousRank ?\n            <Typography variant=\"subtitle1\" gutterBottom component=\"div\">\n                <span>Previous Rank: {metadata.previousRank}</span>\n            </Typography>\n            : ''\n        }\n        {\n            actualTraits.map((trait) => (\n                trait.exists ?\n                <div key={trait.property} className='terran-detail'>\n                    <span>{trait.title}: </span>\n                    <span className={'float-right terran-detail-'+trait.property}>{metadata[trait.property]}</span>\n                </div>\n                : ''\n            ))\n        }\n        {\n            metadata.tokenId ?\n            <div className='terran-detail'>\n                <span>Token Id: </span>\n                <span className='float-right terran-detail-token-id'>{metadata.tokenId}</span>\n            </div>\n            : ''\n        }\n        <div className='terran-detail'>\n            <span>Traits: </span>\n            <span className='float-right terran-detail-traits'>{traitCount}</span>\n        </div>\n    </div>\n    : \n    <div>\n        {message}\n    </div>\n};\nexport default Terrans;","import _ from 'underscore';\n\nconst terranRarity = require('../data/terrans-rarity.json');\nconst terranRarityV1 = require('../data/terrans-rarity-v1.json');\nconst digitOnlyPattern = /^[0-9]+$/;\n\nexport const homePage = 'terransnft-search';\n\nexport const terranOptions = {\n  terran: 'terran',\n  tokenId: 'tokenId',\n  rank: 'rank'\n}\n\nexport const generateSearchByLink = (href, option) => {\n  return '/'+ option.toLowerCase() + '/';\n}\n\nexport const getInitialSearchByValue = (href) => {\n  let searchBy = terranOptions.terran;\n  if(href){\n    if(href.toLowerCase().indexOf('#/tokenid/') > 0) {\n      searchBy = terranOptions.tokenId;\n    }\n    if(href.toLowerCase().indexOf('#/rank/') > 0) {\n      searchBy = terranOptions.rank;\n    }\n  }\n  return searchBy;\n}\n\nexport const getTerranIdByTitle = (title, version) => {\n  const assumedTerranId = parseInt(title.toLowerCase().replace('terran #', ''));\n  return _.isUndefined(version) \n  ? padZeros(assumedTerranId, 4) \n  : parseInt(assumedTerranId).toString();\n}\n\nexport const getTerranRaritySource = (version) => {\n  const source = !_.isUndefined(version)\n  ? version === 'v1' \n  ? terranRarityV1\n  : terranRarity\n  : terranRarity;\n  return source;\n}\n\nexport const getPlaceholder = (searchBy) => {\n  let placeholder;\n  switch(searchBy){\n    case terranOptions.tokenId: {\n      placeholder = '0 up to 9999';\n      break;\n    }\n    case terranOptions.rank: {\n      placeholder = '1 up to 10000';\n      break;\n    }\n    default:{\n      placeholder = 'Terran #XXXXX / 1 up to 10000';\n      break;\n    }\n  }\n  return placeholder;\n}\n\nexport const getTerranRankByTitle = (title, version) => {\n  const terranId = getTerranIdByTitle(title, version);\n  const rarity = _.find(getTerranRaritySource(version), (r) => {\n    return terranId < 1000 \n    ? r.TerranName.toLowerCase() === 'terran #' + terranId\n    : r.TerranName.toLowerCase() === title.toLowerCase();\n  });\n  return rarity ? rarity.Rank : 'N/A';\n}\n\nexport const getTokenIdByRank = (rank) => {\n  let tokenId = -1;\n  const rarity = _.find(terranRarity, (r) => {\n    return r.Rank === parseInt(rank);\n  });\n  if(rarity){\n    tokenId = getTokenIdByTitle(rarity.TerranName);\n  }\n  return tokenId;\n}\n\nexport const getTokenIdByTitle = (title) => {\n    return getTokenIdByTerranId(getTerranIdByTitle(title));\n}\n\nexport const getTokenIdByTerranId = (terranId) => {\n    terranId = parseInt(terranId);\n    let tokenId = -1;\n    if(terranId > 0 && terranId <=10000){\n      if(terranId > 5000){\n        tokenId = terranId - 5001;\n      }else{\n        tokenId = terranId + 4999;\n      }\n    }\n    return tokenId;\n}\n\nexport const isValidSearchText = (searchText) => {\n  let id = -1;\n  if(typeof searchText === 'string'){\n    const isDigits = digitOnlyPattern.test(searchText);\n      if(isDigits){\n        id = parseInt(searchText);\n    } else {\n      const isValidByTitle = isValidTitle(searchText);\n      if(isValidByTitle){\n        id = getTokenIdByTitle(searchText);\n      }\n    }\n  }\n\n  if(typeof searchText === 'number'){\n    id = parseInt(searchText);\n  }\n  \n  return id >= 0 && id <= 10000;\n}\n\nexport const isValidTitle = (searchText) => {\n  const hasTerranHash = searchText.toLowerCase().indexOf('terran #') === 0;\n  const assumedTerranId = searchText.toLowerCase().replace('terran #', '');\n  const isDigitOnly = digitOnlyPattern.test(assumedTerranId);\n  const intTerranId = parseInt(assumedTerranId);\n  var isInRange = intTerranId > 0 && intTerranId <=10000;\n  return hasTerranHash && isInRange && isDigitOnly;\n}\n\nexport const isValidTokenId = (id) => {\n  const isDigitOnly = digitOnlyPattern.test(id);\n  return isDigitOnly && id >= 0 && id < 10000;\n}\n\nexport const padZeros = (number, digits) => {\n  if(number){\n    for(var i = number.toString().length; i < digits;i++){\n      number = '0' + number;\n    }\n  }\n  return number.toString();\n}","import axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport {\n  useLocation\n  , useNavigate  \n  , useParams\n} from \"react-router-dom\";\nimport { \n  FormControlLabel \n  , Radio \n  , RadioGroup\n  , TextField\n} from '@mui/material';\nimport { useAnalytics } from 'use-analytics';\nimport _ from 'underscore';\nimport Terrans from './Terrans';\nimport { MdSearch } from 'react-icons/md';\nimport { \n  generateSearchByLink\n  , getInitialSearchByValue\n  , getPlaceholder\n  , getTerranIdByTitle\n  , getTerranRankByTitle\n  , getTokenIdByRank\n  , getTokenIdByTerranId\n  , getTokenIdByTitle\n  , isValidSearchText\n  , isValidTitle \n  , isValidTokenId\n  , terranOptions\n} from '../helpers/terrans-helper';\nimport '../styles/terrans-nft.scss';\n\nfunction TerransNft() {\n  const analytics = useAnalytics();\n  let location = useLocation();\n  const navigate = useNavigate();\n  const { queryId } = useParams();\n  \n  const [message, setMessage] = useState('');\n  const [searchBy, setSearchBy] = useState(getInitialSearchByValue(window.location.href));\n  const [searchPlaceholder, setSearchPlaceholder] = useState(getPlaceholder(searchBy));\n  const [searchText, setSearchText] = useState(_.isUndefined(queryId) ? '' : queryId);\n  const [terranMetadata, setTerranMetadata] = useState('');\n\n  const onChangeSearchTextHandler = event => {\n    setSearchText(event.target.value);\n  };\n\n  const onTerranSearchSubmit = event => {\n    event.preventDefault();\n    getTerran();\n  }\n\n  const onSearchByChange = event => {\n    setSearchBy(event.target.value);\n    setSearchPlaceholder(getPlaceholder(event.target.value));\n  }\n\n  const getTerran = (text) => {\n    text = text ?? searchText;\n    text = text.trim();\n    analytics.track('getTerran', {\n      searchBy: searchBy,\n      searchText: text\n    });\n    setTerranMetadata('');\n    if(isValidSearchText(text)){\n      setMessage('loading...');\n      let tokenId = -1;\n\n      const link = generateSearchByLink(window.location.href, searchBy);\n      let linkParameter = text;\n      switch(searchBy){\n        case terranOptions.rank: {\n          tokenId = getTokenIdByRank(text);\n          break;\n        }\n        case terranOptions.tokenId:{\n          if(isValidTokenId(text)){\n            tokenId = parseInt(text);\n            linkParameter = tokenId;\n          } else {\n            setMessage('Terran not found!');\n            return;\n          }\n          break;\n        }\n        case terranOptions.terran:{\n          if(isValidTitle(text)){\n            tokenId = getTokenIdByTitle(text);\n            linkParameter = getTerranIdByTitle(text);\n          }else{\n            tokenId = getTokenIdByTerranId(text);\n          }\n          break;\n        }\n        default: break;\n      }\n\n      if(window.location.href.indexOf(link + linkParameter) < 0){\n        navigate(link + linkParameter);\n      }\n\n      if(tokenId >= 0){\n        getMetadataBySearchText(tokenId);\n        return;\n      }\n    }\n    setMessage('Terran not found!');\n  }\n\n  const getMetadataBySearchText = (tokenId) => {\n    const message = 'fetching token image by token id '+ tokenId;\n    console.log(message);\n\n    const url = 'https://fcd.terra.dev/wasm/contracts/terra10f6n78sx84937kcqrthf2gkfxgfjgmxpqrlug7/store?query_msg=%7B%22metadata_u_r_i%22:%7B%22token_id%22:%22'+tokenId+'%22%7D%7D';\n    axios.get(url).then(res =>{\n      if(res && res.data){\n        axios.get(res.data.result\n          ).then(res =>{\n            _.extend(res.data, { \n              tokenId: tokenId \n              , rank: getTerranRankByTitle(res.data.title)\n              , previousRank: getTerranRankByTitle(res.data.title, 'v1')\n            });\n            setTerranMetadata(res.data);\n          });\n      }\n    }).catch(err =>{\n      console.error(err);\n    });\n\n  }\n\n  useEffect(() => {\n    if(!_.isUndefined(queryId)){\n      getTerran(queryId);\n    }\n    analytics.page();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[queryId, location]);\n\n  return (\n    <header className='App-header'>\n      <form onSubmit={onTerranSearchSubmit}>\n        <div className='search-box'>\n          <div id='search-by'>\n          <TextField fullWidth  className=\"search-text-field\" label={searchPlaceholder} value={searchText} onChange={onChangeSearchTextHandler} variant=\"standard\" />\n          <RadioGroup row aria-label=\"search-by\" name=\"search-by-radio-buttons-group\" value={searchBy} onChange={onSearchByChange}>\n            <FormControlLabel value={terranOptions.terran} control={<Radio />} label=\"Terran Number\" />\n            <FormControlLabel value={terranOptions.tokenId} control={<Radio />} label=\"Token Id\" />\n            <FormControlLabel value={terranOptions.rank} control={<Radio />} label=\"Rank\" />\n          </RadioGroup>\n          </div>\n          <button id='submitRequest' type='submit'>Search</button>\n          <span id='md-search' >\n            <MdSearch onClick={onTerranSearchSubmit}/>\n          </span>\n        </div>\n      </form>\n      <Terrans metadata={terranMetadata} message={message} />\n    </header>\n  );\n}\n\nexport default TerransNft;\n","import {\n  HashRouter as Router,\n  Route,\n  Routes\n} from \"react-router-dom\";\nimport { \n  ThemeProvider\n  , createTheme\n} from '@mui/material/styles';\nimport TerransNft from './components/TerransNft';\nimport { \n  terranOptions\n} from './helpers/terrans-helper';\nimport './App.css';\n\nfunction App() {\n  const darkTheme = createTheme({\n    palette: {\n      mode: 'dark'\n    },\n  });\n  return (\n    <Router>\n      <ThemeProvider theme={darkTheme}>\n        <div className='App'>\n          <Routes>\n            <Route path='/' element={<TerransNft/>} />\n            <Route path={'/' + terranOptions.terran + '/:queryId'} element={<TerransNft/>} />\n            <Route path={'/' + terranOptions.tokenId + '/:queryId'} element={<TerransNft/>} />\n            <Route path={'/' + terranOptions.rank + '/:queryId'} element={<TerransNft/>} />\n          </Routes>\n        </div>\n      </ThemeProvider>\n    </Router>\n  );\n}\n\nexport default App;\n","import { Analytics } from 'analytics';\nimport googleAnalytics from '@analytics/google-analytics';\n\nexport const analytics = Analytics({\n    app: 'terransnft-search-app',\n    plugins: [\n        {\n            name: 'terransnft-search-plugin',\n            page: ({ payload }) => {\n                console.log('page view', payload);\n            },\n            track: ({ payload }) => {\n                console.log('track', payload);\n            }\n        },\n        googleAnalytics({ trackingId: 'UA-215931387-1' })\n    ]\n});","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AnalyticsProvider } from 'use-analytics';\nimport { analytics } from './utils/analytics';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AnalyticsProvider instance={analytics}>\n      <App />\n    </AnalyticsProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}